<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112654893-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-112654893-1');
  </script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>pmp-library: Coding Style</title>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<!-- Override right arrow icon from navtree.js -->
<script type="text/javascript">
  var arrowRight = '&#9655;';
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
<link href="./fonts/LatoLatin/latolatinfonts.css" rel="stylesheet" type="text/css" />
<link href="./fonts/Inconsolata/inconsolata.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="container">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.pmp-library.org"><img alt="Logo" src="pmp-logo-text.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pmp-library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class="gh-corner">
  <a href="https://github.com/pmp-library/pmp-library/" title="GitHub Project">
    <img src="gh-corner.png" alt="GitHub Corner"/>
  </a>
</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('codingstyle.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Coding Style </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section describes some of the coding standards that are being used in the pmp-library source tree. Although these standards should never be regarded as strict requirements they are still important to establish a minimum level of consistency through the code base as well as to facilitate code comprehension for developers and library users. Therefore, if you would like to contribute code to the pmp-library please make sure your code adheres to the conventions outlined below.</p>
<h2>Naming</h2>
<h3>Types</h3>
<p>The names of user-defined types such as classes, structs and enums use <code>CamelCase</code> notation. The names of persons such as Cholesky or Delaunay are properly capitalized as well.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>SurfaceMesh { ... };</div><div class="line"><span class="keyword">struct </span>Flags { ... };</div><div class="line"><span class="keyword">enum</span> TextureMode { ColdWarmTexture, CheckerboardTexture, OtherTexture };</div></div><!-- fragment --><h3>Functions</h3>
<p>Function names are written using <code>snake_case</code>. All characters are lowercase. Separate words by underscores.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MeshViewer</div><div class="line">{</div><div class="line">    <span class="keywordtype">bool</span> load_mesh(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename);</div><div class="line">};</div></div><!-- fragment --><h3>Variables</h3>
<p>Variable names use <code>snake_case</code> notation. All characters are lowercase. Separate words with underscores. Class member variables have an underscore <code>_</code> suffix.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> global_var;</div><div class="line"></div><div class="line"><span class="keyword">class </span>ExampleClass</div><div class="line">{</div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="keywordtype">double</span> member_variable_;</div><div class="line">    <span class="keyword">static</span> <span class="keywordtype">double</span> static_member_;</div><div class="line">};</div></div><!-- fragment --><p><em>Exception:</em> Public members of a <code>struct</code> holding just a group of variables may omit the underscore suffix:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>NearestNeighbor</div><div class="line">{</div><div class="line">    <a class="code" href="group__core.html#gaacf5954d048aaaaef04620896706921d">Scalar</a> dist;</div><div class="line">    SurfaceMesh::Face face;</div><div class="line">    <a class="code" href="group__core.html#gab5efae2a32b81aed970dda15482de201">Point</a> nearest;</div><div class="line">    <span class="keywordtype">int</span> tests;</div><div class="line">};</div></div><!-- fragment --><p><em>Exception:</em> For the sake of similarity with common mathematical notation, we sometimes use uppercase letters, e.g., to denote matrices when solving a linear system:</p>
<div class="fragment"><div class="line">Eigen::SparseMatrix&lt;dobule&gt; A(n, n);</div><div class="line">Eigen::MatrixXd B(n, 3);</div></div><!-- fragment --><h3>File Names</h3>
<p>File names follow the naming rules for user-defined types, i.e., they use <code>CamelCase</code> naming. Implementation files end with <code>.cpp</code> and header files end with <code>.h</code>.</p>
<p><em>Exception</em>: Files for building an executable use an all lowercase name, e.g., <code>mpview.cpp</code> to build the <code>mpview</code> executable.</p>
<h2>Formatting</h2>
<h3>Blocks</h3>
<p>The expressions following an <code>if, else, while, do ... while</code> or <code>for</code> statement should always be enclosed in braces. The braces enclosing a block should be placed in the same column, on separate lines.</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (foo == bar)</div><div class="line">{</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;baz&quot;</span> &lt;&lt; std::endl;</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;barbaz&quot;</span> &lt;&lt; std::endl;</div><div class="line">}</div></div><!-- fragment --><h3>Line Length</h3>
<p>Lines should not exceed more than 80 characters. There should only be one statement per line.</p>
<h3>Indentation</h3>
<p>Use spaces instead of tabs. Indent the code by four spaces for each level of indentation. Avoid trailing whitespaces at the end of a line as well as on empty lines.</p>
<h2>Miscellaneous</h2>
<p>This section describes some basic programming conventions developers should adhere to.</p>
<h3>Declaration order</h3>
<p>Group the sections of a class in the following order: public, protected, private.</p>
<p>Use one section for each type of access specifier.</p>
<p>Omit empty sections.</p>
<p>Within a section use the following order: typedefs and enums, constants, constructors, destructor, operators, methods, static methods, data members, static data members.</p>
<h3>Comments</h3>
<p>Use C++-style comments, i.e., <code>// my comment.</code></p>
<h3>Doxygen Documentation Comments</h3>
<p>We use <a href="http://www.doxygen.org/index.html">Doxygen</a> to generate our API documentation. All public types and interfaces should be properly documented. This usually includes a short abstract not longer than a sentence as well as a more detailed discussion of what the function does. We use <code>//!</code> for doxygen comments. The following is an example what a full documentation comment could look like:</p>
<pre class="fragment">//! \brief Does foo.
//!
//! \details Does foo and nothing else. If \p use_bar argument is true uses the
//! bar method instead of foo.
//!
//! \param[in] use_bar toggle to switch method
//! \param[out] results filled with results from foo
//!
//! \return true on success.
</pre><p>Another good practice is to document pre- and post-conditions for performing an operation. Those can be documented using the <code>\pre</code> and <code>\post</code> Doxygen <a href="https://www.stack.nl/~dimitri/doxygen/manual/commands.html">special commands</a>.</p>
<p>Use Doxygen comments only in the header file. Do not repeat the same information in the implementation file. Instead, provide specific details on the implementation at hand, i.e., how was the functionality implemented, and why was it implemented in this manner?</p>
<h3>Include Guards</h3>
<p>Use the</p>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div></div><!-- fragment --><p>compiler directive at the beginning of each header file in order to protect against multiple inclusion. Although this is not officially part of the language this feature is supported by all major compilers and is much more convenient than conventional header guards.</p>
<h3>Namespace</h3>
<p>Use the <code>pmp</code> namespace in order to avoid conflicts. In source files, do not add an additional level of indentation due to the namespace:</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code" href="namespacepmp.html">pmp</a> {</div><div class="line"><span class="keyword">class </span>ExampleClass</div><div class="line">{</div><div class="line">...</div><div class="line">};</div><div class="line">}</div></div><!-- fragment --><h3>Boolean Prefixes</h3>
<p>Use meaningful prefixes for <code>bool</code> variables or functions returning booleans, e.g., <code>has_colors()</code> for a function or <code>is_done</code> for a variable.</p>
<h3>Naming Consistency</h3>
<p>Consistently name dynamic properties, e.g., <code>v:scalar</code> for vertex scalars or <code>f:normal</code> for face normals. Similarly, consistently name iterators and circulators by their entity type (<code>Vertex</code>, <code>Halfedge</code>, ...)</p>
<h3>Type Consistency</h3>
<p>Try to avoid conversion issues by using consistent types, e.g., use <code>std::size_t</code> when storing values from STL functions such as the <code>size()</code> member function of a <code>std::vector</code>. Use the C++11 <code>auto</code> keyword to let the compiler determine the proper types.</p>
<h3>Structs vs. Classes</h3>
<p>Use plain structs for data objectes providing nothing but a collection of other data types, e.g., a collection of parameters passed to a functions. Such a struct should not contain any further functionality than what is required for construction, destruction, or initialization. In contrast to class member variables, struct members do not have a underscore <code>_</code> suffix.</p>
<h3>Scoping</h3>
<p>Localize variable scope and avoid declaring all variables at the beginning of a function or code block.</p>
<h2>Using clang-format</h2>
<p>Please use the <a href="https://clang.llvm.org/docs/ClangFormat.html">clang-format</a> tool and the corresponding <code>.clang-format</code> configuration file from the repository to properly format your code. We also provide a convenience CMake target to run clang-format on all source files: </p><pre class="fragment">make clang-format
</pre><p>This requires that the <code>clang-format</code> executable is found during CMake configuration. The exact path to the executable can be specified using </p><pre class="fragment">cmake -DCLANG_FORMAT_EXE=&lt;path/to/executable&gt; ..
</pre><p>In case you want to preserve the special formatting of a particular code block such as a matrix intialization add the <code>// clang-format off</code> and <code>// clang-format on</code> directives around this block:</p>
<div class="fragment"><div class="line"><span class="comment">// clang-format off</span></div><div class="line">Mat4&lt;Scalar&gt; m;</div><div class="line">m(0, 0) = x[0]; m(0, 1) = x[1]; m(0, 2) = x[2]; m(0, 3) = -<a class="code" href="group__core.html#ga6ea04ecbb574e07677787a8507a93281">dot</a>(x, eye);</div><div class="line">m(1, 0) = y[0]; m(1, 1) = y[1]; m(1, 2) = y[2]; m(1, 3) = -<a class="code" href="group__core.html#ga6ea04ecbb574e07677787a8507a93281">dot</a>(y, eye);</div><div class="line">m(2, 0) = z[0]; m(2, 1) = z[1]; m(2, 2) = z[2]; m(2, 3) = -<a class="code" href="group__core.html#ga6ea04ecbb574e07677787a8507a93281">dot</a>(z, eye);</div><div class="line">m(3, 0) = 0.0;  m(3, 1) = 0.0;  m(3, 2) = 0.0;  m(3, 3) = 1.0;</div><div class="line"><span class="comment">// clang-format on</span></div></div><!-- fragment --><h2>See Also</h2>
<p>The above coding standard is necessarily incomplete. Therefore, we list some additional references and pointers to useful resources regarding C++ coding standards and best practices:</p>
<ul>
<li>The <a href="https://www.aristeia.com/books.html">Effective C++ series</a> of Scott Meyer contains a whealth of guidelines <a class="el" href="citelist.html#CITEREF_meyers_2005_effective">[17]</a> <a class="el" href="citelist.html#CITEREF_meyers_2014_effective">[18]</a> .</li>
<li><a href="http://www.gotw.ca/publications/c++cs.htm">C++ Coding Standards</a> written by Herb Sutter and Andrei Alexandrescu describes concrete guidelines and best practices <a class="el" href="citelist.html#CITEREF_sutter_2004_c++">[19]</a> .</li>
<li>The <a href="https://github.com/isocpp/cppcoreguidelines">C++ Core Guidelines</a> are an ongoing effort led by Bjarne Stroustrup to develop guidelines for effecitve modern C++ usage.</li>
<li>Other coding standards:<ul>
<li><a href="https://llvm.org/docs/CodingStandards.html">LLVM Coding Standards</a></li>
<li><a href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a></li>
<li><a href="http://www.codingstandard.com/section/index/">High Integrity C++ Coding Standard</a> </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="footer">
  <address>
      Copyright &copy; 2011-2019 The pmp-library developers
  </address>
</div>
</div>
</body>
</html>
